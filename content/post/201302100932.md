
---
title: "業種別企業名辞書データを公開しました"
date: 2013-02-10T09:32:43+00:00
category : [自然言語処理]
canonicalurl: http://yut.hatenablog.com/entry/20130210/1360456363
---

## [自然言語処理] : 業種別企業名辞書データを公開しました

<p><div class="amazlet-box"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873113024/yutakikuchi-22/"><img src="http://ecx.images-amazon.com/images/I/41ZCARQCYDL._SL160_.jpg" class="hatena-asin-detail-image" alt="Web解析Hacks ―オンラインビジネスで最大の効果をあげるテクニック & ツール" title="Web解析Hacks ―オンラインビジネスで最大の効果をあげるテクニック & ツール"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873113024/yutakikuchi-22/">Web解析Hacks ―オンラインビジネスで最大の効果をあげるテクニック & ツール</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> Eric T. Peterson,<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B3%F4%BC%B0%B2%F1%BC%D2%A5%C7%A5%B8%A5%BF%A5%EB%A5%D5%A5%A9%A5%EC%A5%B9%A5%C8">株式会社デジタルフォレスト</a>,木下哲也,有限会社福龍興業</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> <a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A5%E9%A5%A4%A5%EA%A1%BC%A1%A6%A5%B8%A5%E3%A5%D1%A5%F3">オライリー・ジャパン</a></li><li><span class="hatena-asin-detail-label">発売日:</span> 2006/11/08</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本（ソフトカバー）</li><li><span class="hatena-asin-detail-label">購入</span>: 3人 <span class="hatena-asin-detail-label">クリック</span>: 78回</li><li><a href="http://d.hatena.ne.jp/asin/4873113024/yutakikuchi-22" target="_blank">この商品を含むブログ (21件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<div class="section">
<h4>企業名辞書</h4>

<blockquote>
    <p>業種と企業名の辞書データが欲しかったんで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Yahoo%21">Yahoo!</a>FinanceのデータをCrawlして作りました。<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C4%EB%B9%F1%A5%C7%A1%BC%A5%BF%A5%D0%A5%F3%A5%AF">帝国データバンク</a>や<a class="keyword" href="http://d.hatena.ne.jp/keyword/%BB%CD%B5%A8%CA%F3">四季報</a>のデータが使えると良かったんですが、Crawlできそうに無かったので諦めました。残念ながら2600社ほどのデータしか集まっておらず、個人的にはもっといろんなデータが欲しいです。他に良い方法をご存知の方いらっしゃいましたらご連絡いただけると幸いです。<br />
<a href="http://finance.yahoo.co.jp/">Yahoo!ファイナンス - 株価やニュース、企業情報などを配信する投資・マネーの総合サイト</a> <a href="http://b.hatena.ne.jp/entry/finance.yahoo.co.jp/"><img src="http://b.hatena.ne.jp/entry/image/http://finance.yahoo.co.jp/" alt="はてなブックマーク - Yahoo!ファイナンス - 株価やニュース、企業情報などを配信する投資・マネーの総合サイト" border="0" /></a><br />
<a href="http://www.tdb.co.jp/service/u/1000.jsp">TDB企業サーチ | 帝国データバンク[TDB]</a> <a href="http://b.hatena.ne.jp/entry/www.tdb.co.jp/service/u/1000.jsp"><img src="http://b.hatena.ne.jp/entry/image/http://www.tdb.co.jp/service/u/1000.jsp" alt="はてなブックマーク - TDB企業サーチ | 帝国データバンク[TDB]" border="0" /></a><br />
<a href="http://shikiho.jp/">会社四季報オンライン</a> <a href="http://b.hatena.ne.jp/entry/shikiho.jp/"><img src="http://b.hatena.ne.jp/entry/image/http://shikiho.jp/" alt="はてなブックマーク - 会社四季報オンライン" border="0" /></a></p>

</blockquote>

</div>
<div class="section">
<h4>企業名辞書データ</h4>

<blockquote>
    
<div class="section">
<h5>GithubURL</h5>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/github">github</a>に上げました。<span class="deco" style="color:#FF0000;">※利用する場合は全て自己責任でお願いします。</span><br />
<a href="https://github.com/yutakikuchi/Data/blob/master/corps.txt">Data/corps.txt at master · yutakikuchi/Data · GitHub</a> <a href="http://b.hatena.ne.jp/entry/s/github.com/yutakikuchi/Data/blob/master/corps.txt"><img src="http://b.hatena.ne.jp/entry/image/https://github.com/yutakikuchi/Data/blob/master/corps.txt" alt="はてなブックマーク - Data/corps.txt at master · yutakikuchi/Data · GitHub" border="0" /></a><br />
</p>

</div>
<div class="section">
<h5>DataFormat</h5>
<pre class="code" data-lang="" data-unlink>[業種名]
企業Code \t 上場市場 \t 企業名 \t 紹介文 </pre>
</div>
<div class="section">
<h5>SampleData</h5>
<pre class="code" data-lang="" data-unlink>[電気・ガス業]
9501  東証1部 東京電力(株)  福島第一原発事故による巨額賠償負担や廃炉費用で経営悪化。政府が出資、一時公的管理下に
9502  東証1部 中部電力(株)  電力３位で中部財界の雄。通信など新規事業に出資。１１年５月、国の要請で浜岡原発の運転停止 
9503  東証1部 関西電力(株)  東京電力と並ぶ業界の雄。原発依存度高い。情報通信など展開。原発設備利用率低下で経営悪化 
9504  東証1部 中国電力(株)  石炭火力５割と高い。電源は瀬戸内集中。原発増強計画だったが、震災で新規原発は稼働延期 
9505  東証1部 北陸電力(株)  北陸３県に供給。原子力の設備利用率高かったが、現況は石炭火力主体。水力比率も高い 
9506  東証1部 東北電力(株)  東北６県、新潟へ供給。震災で原発４基停止に加え、火力発電所も複数被災。大口ガス卸売りも
9507  東証1部 四国電力(株)  発電所は瀬戸内側に立地集中、原子力の比率大。保有する伊方原発１〜３号は全基停止中 
9508  東証1部 九州電力(株)  九州財界の雄。産業向け比率が高い。通信事業も育成。玄海、川内の原発６基はすべて停止中 
9509  東証1部 北海道電力(株)  原子力・石炭火力の比重大。需要構造は冬ピーク型。５月上旬の泊３号機点検入りで全原発停止 
9511  東証1部 沖縄電力(株)  沖縄本島と周辺約４０島に電力供給、民生用比率が８割占める。電源は石炭と石油火力が主体 
9513  東証1部 Ｊ−ＰＯＷＥＲ ０４年に政府が民営化で株放出、電力卸が主。電源は石炭火力と水力中心、大間原発の建設再開 
9514  マザーズ  (株)ファーストエスコ  省エネ支援と木質バイオマス発電が２本柱。バイオ発電は日田で自社発電所、白河は運営受託
9531  東証1部 東京ガス(株)  都市ガス最大手。原料天然ガス化先鞭、海外ガス田開発も。地域冷暖房注力、新エネ開発も着手 9532  東証1部 大阪ガス(株)  京阪神地盤。都市ガス２位。営業力強い。コージェネ推進。燃料電池用触媒など技術力に定評
9533  東証1部 東邦ガス(株)  ガス業界３位。愛知、岐阜、三重の３県が営業地域。ＬＰＧも強い。コージェネ事業を推進 
9534  東証1部 北海道ガス(株)  札幌、小樽、函館が地盤の地方都市ガス大手。石狩にＬＮＧ基地建設中、ガス調達先多様化 
9535  東証2部 広島ガス(株)  中国地方で都市ガス供給首位。契約戸数はＬＰガス含め６０万戸強。工業用コージェネにも注力 
9536  東証1部 西部ガス(株)  都市ガス大手、需要家数、販売量で全国４位。福岡市、北九州市が主要地盤。燃料電池開発に力 
9537  東証2部 北陸ガス(株)  地方ガス大手。新潟、長岡、三条地区に都市ガスを供給。原料は県内産天然ガスとＬＮＧの２本柱 
9539  東証2部 京葉瓦斯(株)  都市ガス中堅。市川、船橋、松戸など千葉県西部の市街地地盤。東京ガス、東京電力から原料融通 
9540  名証2部 中部ガス(株)  豊橋、豊川、浜松、磐田が地盤。区域内の天然ガス化完了。グループにサーラコーポレーション 
9541  東証2部 大多喜ガス(株)  千葉県内房地盤に都市ガス販売。県内産天然ガス等が原料の２割弱。関東天然瓦斯開発の子会社 
9542  東証2部 新日本瓦斯(株)  日本瓦斯の関連会社で北本市、桶川市、久喜市等を供給地域とする都市ガス会社。ＬＰＧ販売も 
9543  東証1部 静岡ガス(株)  静岡市地盤で工業用に強み。販売量国内５位。清水ＬＮＧ基地活用し周辺地域へ卸供給を拡大 
9544  東証2部 東日本ガス(株)  日本瓦斯グループ。都市ガス中堅。取手、我孫子周辺が地盤。ＬＮＧは東ガス、東電から調達 </pre>
</div>
<div class="section">
<h5>CrawlCode</h5>
<pre class="hljs python" data-lang="python" data-unlink><span class="synComment">#!/usr/bin/env python</span>
<span class="synComment"># -*- coding: utf-8 -*-</span>

<span class="synPreProc">import</span> sys,re,urllib,urllib2
coods = { <span class="synConstant">"0050"</span> : <span class="synConstant">"水産・農林業"</span>,
     <span class="synConstant">"1050"</span> : <span class="synConstant">"鉱業"</span>,
     <span class="synConstant">"2050"</span> : <span class="synConstant">"建設業"</span>,
     <span class="synConstant">"3050"</span> : <span class="synConstant">"食料品"</span>,
     <span class="synConstant">"3100"</span> : <span class="synConstant">"繊維製品"</span>,
     <span class="synConstant">"3150"</span> : <span class="synConstant">"パルプ・紙"</span>,
     <span class="synConstant">"3200"</span> : <span class="synConstant">"化学"</span>,
     <span class="synConstant">"3250"</span> : <span class="synConstant">"医薬品"</span>,
     <span class="synConstant">"3300"</span> : <span class="synConstant">"石油・石炭製品"</span>,
     <span class="synConstant">"3350"</span> : <span class="synConstant">"ゴム製品"</span>,
     <span class="synConstant">"3400"</span> : <span class="synConstant">"ガラス・土石製品"</span>,
     <span class="synConstant">"3450"</span> : <span class="synConstant">"鉄鋼"</span>,
     <span class="synConstant">"3500"</span> : <span class="synConstant">"非鉄金属"</span>,
     <span class="synConstant">"3550"</span> : <span class="synConstant">"金属製品"</span>,
     <span class="synConstant">"3600"</span> : <span class="synConstant">"機械"</span>,
     <span class="synConstant">"3650"</span> : <span class="synConstant">"電気機器"</span>,
     <span class="synConstant">"3700"</span> : <span class="synConstant">"輸出用機器"</span>,
     <span class="synConstant">"3750"</span> : <span class="synConstant">"精密機器"</span>,
     <span class="synConstant">"3800"</span> : <span class="synConstant">"その他製品"</span>,
     <span class="synConstant">"4050"</span> : <span class="synConstant">"電気・ガス業"</span>,
     <span class="synConstant">"5050"</span> : <span class="synConstant">"陸運業"</span>,
     <span class="synConstant">"5150"</span> : <span class="synConstant">"空運業"</span>,
     <span class="synConstant">"5150"</span> : <span class="synConstant">"海運業"</span>,
     <span class="synConstant">"5200"</span> : <span class="synConstant">"倉庫・運輸関連業"</span>,
     <span class="synConstant">"5250"</span> : <span class="synConstant">"情報・通信"</span>,
     <span class="synConstant">"6050"</span> : <span class="synConstant">"卸売業"</span>,
     <span class="synConstant">"6100"</span> : <span class="synConstant">"小売業"</span>,
     <span class="synConstant">"7050"</span> : <span class="synConstant">"銀行業"</span>,
     <span class="synConstant">"7100"</span> : <span class="synConstant">"証券業"</span>,
     <span class="synConstant">"7150"</span> : <span class="synConstant">"保険業"</span>,
     <span class="synConstant">"7200"</span> : <span class="synConstant">"その他金融業"</span>,
     <span class="synConstant">"8050"</span> : <span class="synConstant">"不動産業"</span>,
     <span class="synConstant">"9050"</span> : <span class="synConstant">"サービス業"</span>
}

baseuri = <span class="synConstant">"http://stocks.finance.yahoo.co.jp/stocks/qi/"</span>
f = <span class="synIdentifier">open</span>( <span class="synConstant">'./corps.txt'</span>, <span class="synConstant">'w'</span> )

opener = urllib2.build_opener()
ua = <span class="synConstant">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/534.51.22 (KHTML, like Gecko) Version/5.1.1 Safari/    534.51.22'</span>
referer = <span class="synConstant">'http://finance.yahoo.co.jp/'</span>
opener.addheaders = [( <span class="synConstant">'User-Agent'</span>, ua ),( <span class="synConstant">'Referer'</span>, referer )]
<span class="synStatement">for</span> k,v <span class="synStatement">in</span> coods.items():
   f.write( <span class="synConstant">"["</span> + v + <span class="synConstant">"]"</span> + <span class="synConstant">"</span><span class="synSpecial">\n</span><span class="synConstant">"</span> )
   url = baseuri + <span class="synConstant">"?ids="</span> + k
   <span class="synStatement">try</span> : 
  <span class="synStatement">for</span> i <span class="synStatement">in</span> <span class="synIdentifier">range</span>(<span class="synConstant">1</span>,<span class="synConstant">25</span>):
     req_url = url + <span class="synConstant">"&p="</span> + <span class="synIdentifier">str</span>( i )
     <span class="synIdentifier">print</span> req_url
     content = opener.<span class="synIdentifier">open</span>( req_url ).read()
     <span class="synStatement">if</span> re.<span class="synIdentifier">compile</span>( <span class="synConstant">r'<td class="center yjM"><a href=.*?>(.*?)</a></td><td class="center yjSt">(.*?)</td><td><strong class="yjMt"><a href=.*?>(.*?)</a>(.|\n)*?<span class="yjSt profile">(.*?)</span>'</span>, re.M ).search( content ) <span class="synStatement">is</span> <span class="synStatement">not</span> <span class="synIdentifier">None</span>:
        data = re.<span class="synIdentifier">compile</span>( <span class="synConstant">r'<td class="center yjM"><a href=.*?>(.*?)</a></td><td class="center yjSt">(.*?)</td><td><strong class="yjMt"><a href=.*?>(.*?)</a>(.|\n)*?<span class="yjSt profile">(.*?)</span>'</span>, re.M ).findall( content )
        <span class="synStatement">for</span> node <span class="synStatement">in</span> data:
           info = node[<span class="synConstant">0</span>] + <span class="synConstant">"</span><span class="synSpecial">\t</span><span class="synConstant">"</span> + node[<span class="synConstant">1</span>] + <span class="synConstant">"</span><span class="synSpecial">\t</span><span class="synConstant">"</span> + node[<span class="synConstant">2</span>] + <span class="synConstant">"</span><span class="synSpecial">\t</span><span class="synConstant">"</span> + node[<span class="synConstant">4</span>] 
           <span class="synComment">#print info</span>
           f.write( info + <span class="synConstant">"</span><span class="synSpecial">\n</span><span class="synConstant">"</span> )
  f.write( <span class="synConstant">"</span><span class="synSpecial">\n</span><span class="synConstant">"</span> )
   <span class="synStatement">except</span> <span class="synType">Exception</span>:
  <span class="synStatement">continue</span>
f.close()
</pre>
</div>
</blockquote>

</div>

