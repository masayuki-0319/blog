
---
title: "Hadoop Oozie設定からPigのPythonUDFを利用するまでのまとめ"
date: 2012-12-29T14:32:53+00:00
category : [Hadoop]
canonicalurl: http://yut.hatenablog.com/entry/20121229/1356759173
---

## [Hadoop] : Hadoop Oozie設定からPigのPythonUDFを利用するまでのまとめ

<p><div class="amazlet-box"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873115035/yutakikuchi-22/"><img src="http://ecx.images-amazon.com/images/I/51p88eroNdL._SL160_.jpg" class="hatena-asin-detail-image" alt="Hadoop 第2版" title="Hadoop 第2版"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873115035/yutakikuchi-22/">Hadoop 第2版</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> Tom White,玉川竜司,兼田聖士</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> <a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A5%E9%A5%A4%A5%EA%A1%BC%A5%B8%A5%E3%A5%D1%A5%F3">オライリージャパン</a></li><li><span class="hatena-asin-detail-label">発売日:</span> 2011/07/23</li><li><span class="hatena-asin-detail-label">メディア:</span> 大型本</li><li><span class="hatena-asin-detail-label">購入</span>: 9人 <span class="hatena-asin-detail-label">クリック</span>: 182回</li><li><a href="http://d.hatena.ne.jp/asin/4873115035/yutakikuchi-22" target="_blank">この商品を含むブログ (24件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<div class="section">
<h4>Oozie</h4>

<blockquote>
    <p>Oozieとは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Hadoop">Hadoop</a> <a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>のジョブ管理システムの事で<a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>の定期処理化や<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CA%A3%BF%F4">複数</a>の<a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>の実行し結果を一つにまとめるなど一連の処理フローとして定義することができる優れものです。Oozie自体は<a class="keyword" href="http://d.hatena.ne.jp/keyword/Java">Java</a>/<a class="keyword" href="http://d.hatena.ne.jp/keyword/Tomcat">Tomcat</a>で作られているようです。Oozieを動かすために開発者は以下のものを用意しなければなりません。</p>

<table>
<tr>
<th> ファイル </th>
<th> 必須  </th>
<th> 記述方式 </th>
<th> 用途 </th>
<th>  設置場所 </th>
</tr>
<tr>
<td> <a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>プログラム </td>
<td> 必須 </td>
<td><a class="keyword" href="http://d.hatena.ne.jp/keyword/Java">Java</a>,Streaming,Pig/Hive等 </td>
<td> <a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>実行 </td>
<td> <a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a> </td>
</tr>
<tr>
<td> workflow </td>
<td> 必須 </td>
<td> <a class="keyword" href="http://d.hatena.ne.jp/keyword/xml">xml</a> </td>
<td> OozieJobの実行 </td>
<td> <a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a> </td>
</tr>
<tr>
<td> coordinator </td>
<td> 定期化する場合必須 </td>
<td><a class="keyword" href="http://d.hatena.ne.jp/keyword/xml">xml</a> </td>
<td> Ooziejobの定期化 </td>
<td> <a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a> </td>
</tr>
<tr>
<td> properties </td>
<td> 必須 </td>
<td>設定ファイル </td>
<td> Ooziejobの実行パラメータファイル </td>
<td> Oozie client </td>
</tr>
</table><p>Oozieを動かすためのパラメータファイル以外は全て<a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a>のパスに設置する必要があります。workflowが<a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>の一連処理の流れを定義し、coordinatorは定期処理をしたい場合に定義する<a class="keyword" href="http://d.hatena.ne.jp/keyword/xml">xml</a>ファイルです。propertiesはJobTracker,NameNodeやOozieのjobに渡すパラメータの設定ファイルです。<br />
Oozieの設定ファイルの定義は厳格(記述書式、順番に厳しい)でありながら、設定間違いのWarningが大変分かりづらいためDebugに相当時間を費やす事になりますが、一度設定をしてしまえば大変強力なものになるので、一度導入を検討してみると良いかもしれません。</p>

</blockquote>

</div>
<div class="section">
<h4>Install on <a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a></h4>

<blockquote>
    <p><a href="https://ccp.cloudera.com/display/CDHDOC/Oozie+Installation">Oozie Installation - Cloudera Support</a> <a href="http://b.hatena.ne.jp/entry/s/ccp.cloudera.com/display/CDHDOC/Oozie+Installation"><img src="http://b.hatena.ne.jp/entry/image/https://ccp.cloudera.com/display/CDHDOC/Oozie+Installation" alt="はてなブックマーク - Oozie Installation - Cloudera Support" border="0" /></a><br />
<a href="http://metasearch.sourceforge.jp/wiki/index.php?Oozie%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB">Oozieインストール - Meta Search</a> <a href="http://b.hatena.ne.jp/entry/metasearch.sourceforge.jp/wiki/index.php?Oozie%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB"><img src="http://b.hatena.ne.jp/entry/image/http://metasearch.sourceforge.jp/wiki/index.php?Oozie%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB" alt="はてなブックマーク - Oozieインストール - Meta Search" border="0" /></a><br />
<a href="http://archive.cloudera.com/cdh/3/oozie/DG_QuickStart.html">Oozie OuickStart</a> <a href="http://b.hatena.ne.jp/entry/archive.cloudera.com/cdh/3/oozie/DG_QuickStart.html"><img src="http://b.hatena.ne.jp/entry/image/http://archive.cloudera.com/cdh/3/oozie/DG_QuickStart.html" alt="はてなブックマーク - Oozie -" border="0" /></a><br />
ここら辺を参考にinstallしてみます。</p>

<div class="section">
<h5>Install Package</h5>
<p>Oozieの設定をCentOs1台で行います。Osのバージョンは<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> release 6.3 (Final)です。まずはinstall済みの<a class="keyword" href="http://d.hatena.ne.jp/keyword/hadoop">hadoop</a>パッケージの確認と追加でoozieのパッケージをinstallします。Oozie以外にも<a class="keyword" href="http://d.hatena.ne.jp/keyword/mysql">mysql</a>,<a class="keyword" href="http://d.hatena.ne.jp/keyword/tomcat">tomcat</a>をinstallする必要があるので、それらも入れます。</p>
<pre class="code" data-lang="" data-unlink>$ yum list installed | grep hadoop   
hadoop-0.20.noarch     0.20.2+923.421-1 @cloudera-cdh3                          
hadoop-0.20-conf-pseudo.noarch
hadoop-0.20-datanode.noarch
hadoop-0.20-jobtracker.noarch
hadoop-0.20-namenode.noarch
hadoop-0.20-secondarynamenode.noarch
hadoop-0.20-tasktracker.noarch
hadoop-pig.noarch      0.8.1+28.39-1    @cloudera-cdh3  

$ yum install oozie oozie-client -y
$ yum list installed | grep oozie
oozie.noarch           2.3.2+27.23-1    @cloudera-cdh3                          
oozie-client.noarch    2.3.2+27.23-1    @cloudera-cdh3   

$ yum install mysql mysql-server tomcat6 -y
$ yum list installed | grep mysql     
mysql.x86_64           5.1.66-2.el6_3   @updates                                
mysql-libs.x86_64      5.1.66-2.el6_3   @updates                                
mysql-server.x86_64    5.1.66-2.el6_3   @updates

$ yum list installed | grep tomcat
tomcat6.noarch         6.0.24-45.el6    @base                                   
tomcat6-el-2.1-api.noarch
tomcat6-jsp-2.1-api.noarch
tomcat6-lib.noarch     6.0.24-45.el6    @base                                   
tomcat6-servlet-2.5-api.noarch</pre>
</div>
<div class="section">
<h5>各種Path</h5>
<p>InstallやOozieを実行することによって作成されるOozieディレクトリパスです。※私の環境では/var/oozie/tmpは自分で作成する必要がありました。</p>

<table>
<tr>
<th> path </th>
<th> 説明  </th>
</tr>
<tr>
<td> /usr/lib/oozie </td>
<td> shファイル、libファイル </td>
</tr>
<tr>
<td> /usr/share/doc/oozie* </td>
<td> Documentファイル </td>
<td> </td>
</tr>
<tr>
<td> /etc/oozie </td>
<td> Configファイル </td>
</tr>
<tr>
<td> /var/log/oozie </td>
<td> logファイル </td>
</tr>
<tr>
<td> /var/run/oozie </td>
<td> ProcessIDファイル </td>
<td> </td>
</tr>
<tr>
<td> /var/tmp/oozie </td>
<td> tempファイル </td>
</tr>
</table>
</div>
<div class="section">
<h5><a class="keyword" href="http://d.hatena.ne.jp/keyword/Mysql">Mysql</a>の設定</h5>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/mysql">mysql</a>を起動&接続してoozieDBの作成とoozieユーザを登録します。また<a class="keyword" href="http://d.hatena.ne.jp/keyword/Tomcat">Tomcat</a>から<a class="keyword" href="http://d.hatena.ne.jp/keyword/mysql">mysql</a>で接続を行うために<a class="keyword" href="http://d.hatena.ne.jp/keyword/mysql">mysql</a>-connector-<a class="keyword" href="http://d.hatena.ne.jp/keyword/java">java</a>をdownloadして展開しておきます。</p>
<pre class="code" data-lang="" data-unlink>$ sudo /etc/rc.d/init.d/mysqld start
mysqld を起動中:                                           [  OK  ]

$ mysql -u root -p

mysql> create database oozie;
Query OK, 1 row affected (0.03 sec)

mysql> grant all privileges on oozie.* to 'oozie'@'localhost' identified by 'password';
Query OK, 0 rows affected (0.00 sec)

mysql> grant all privileges on oozie.* to 'oozie'@'%' identified by 'password';
Query OK, 0 rows affected (0.00 sec)

mysql> flush privileges;
Query OK, 0 rows affected (0.00 sec)</pre><p>Oozieアプリケーションから<a class="keyword" href="http://d.hatena.ne.jp/keyword/mysql">mysql</a>接続が行えるように<a class="keyword" href="http://d.hatena.ne.jp/keyword/JDBC">JDBC</a> Connectorを設定します。</p>
<pre class="code" data-lang="" data-unlink>$ wget "http://www.mysql.com/downloads/mirror.php?id=409559"
2012-12-22 14:23:24 (2.11 MB/s) - `mysql-connector-java-5.1.22.tar.gz' へ保存完了 [4028047/4028047]

$ tar -xzf mysql-connector-java-5.1.22.tar.gz</pre>
</div>
<div class="section">
<h5>設定ファイルを<a class="keyword" href="http://d.hatena.ne.jp/keyword/Mysql">Mysql</a>用に書き換え</h5>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/jdbc">jdbc</a>を<a class="keyword" href="http://d.hatena.ne.jp/keyword/mysql">mysql</a>に設定するように/etc/oozie/oozie-site.<a class="keyword" href="http://d.hatena.ne.jp/keyword/xml">xml</a>を編集します。</p>
<pre class="hljs xml" data-lang="xml" data-unlink>$ sudo vim /etc/oozie/oozie-site.xml

<span class="synIdentifier"><property></span>
    <span class="synIdentifier"><name></span>oozie.service.StoreService.jdbc.driver<span class="synIdentifier"></name></span>
    <span class="synIdentifier"><value></span>com.mysql.jdbc.Driver<span class="synIdentifier"></value></span>
    <span class="synIdentifier"><description></span>
        JDBC driver class.
    <span class="synIdentifier"></description></span>
<span class="synIdentifier"></property></span>

<span class="synIdentifier"><property></span>
    <span class="synIdentifier"><name></span>oozie.service.StoreService.jdbc.url<span class="synIdentifier"></name></span>
    <span class="synIdentifier"><value></span>jdbc:mysql://localhost:3306/oozie<span class="synIdentifier"></value></span>
    <span class="synIdentifier"><description></span>
        JDBC URL.
    <span class="synIdentifier"></description></span>
<span class="synIdentifier"></property></span>

<span class="synIdentifier"><property></span>
    <span class="synIdentifier"><name></span>oozie.service.StoreService.jdbc.username<span class="synIdentifier"></name></span>
    <span class="synIdentifier"><value></span>oozie<span class="synIdentifier"></value></span>
    <span class="synIdentifier"><description></span>
        DB user name.
    <span class="synIdentifier"></description></span>
<span class="synIdentifier"></property></span>

<span class="synIdentifier"><property></span>
    <span class="synIdentifier"><name></span>oozie.service.StoreService.jdbc.password<span class="synIdentifier"></name></span>
    <span class="synIdentifier"><value></span>password<span class="synIdentifier"></value></span>
    <span class="synIdentifier"><description></span>
        DB user password.

                   if empty Configuration assumes it is NULL.

                   the console.
    <span class="synIdentifier"></description></span>
<span class="synIdentifier"></property></span>
</pre>
</div>
<div class="section">
<h5><a class="keyword" href="http://d.hatena.ne.jp/keyword/ExtJS">ExtJS</a>のdownload</h5>
<p>Oozieのwebconsole表示には<a class="keyword" href="http://d.hatena.ne.jp/keyword/ExtJS">ExtJS</a>という<a class="keyword" href="http://d.hatena.ne.jp/keyword/Javascript">Javascript</a>ライブラリが必要です。注意としては2.2のVersionを指定しなければならない事です。</p>
<pre class="code" data-lang="" data-unlink>$ wget http://extjs.com/deploy/ext-2.2.zip</pre>
</div>
<div class="section">
<h5>oozie-setup</h5>
<p>Oozieのsetupコマンドを実行します。ここでdownloadした<a class="keyword" href="http://d.hatena.ne.jp/keyword/jdbc">jdbc</a>のjarと<a class="keyword" href="http://d.hatena.ne.jp/keyword/Extjs">Extjs</a>のコピーを行います。</p>
<pre class="code" data-lang="" data-unlink>$ sudo -u oozie /usr/lib/oozie/bin/oozie-setup.sh -jars work/jdbc/mysql-connector-java-5.1.22/mysql-connector-java-5.1.22-bin.jar -extjs work/extjs/ext-2.2.zip
xtjs work/extjs/ext-2.2.zip
  setting OOZIE_CONFIG=/etc/oozie
  setting OOZIE_DATA=/var/lib/oozie
  setting OOZIE_LOG=/var/log/oozie
  setting CATALINA_BASE=${OOZIE_DATA}/oozie-server
  setting CATALINA_TMPDIR=/var/tmp/oozie
  setting CATALINA_PID=/var/run/oozie/oozie.pid

New Oozie WAR file with added 'ExtJS library, JARs' at /var/lib/oozie/oozie-server/webapps/oozie.war
</div>
<div class="section">
<h5>Oozieの起動と確認</h5>
<p>Oozieの起動と確認コマンンドを実行してみます。確認コマンドで大量のエラーが発生し、<a href="http://localhost:11000/oozie">http://localhost:11000/oozie</a>にアクセスしてもアプリケーションの確認ができませんでした。Oozieのログファイルも確認してみると/var/tmp/oozieが無いということで怒られています。ということでoozieユーザで/var/tmp/oozieを作成し、oozieを再起動します。また後から怒られないようにoozie関連のディレクトリは全て所有者をoozieに変更しておきます。Oozieの起動確認コマンドもSystem mode: NORMALとなっていて正常に起動していることが分かります。</p>
<pre class="code" data-lang="" data-unlink>$ sudo -u oozie /usr/lib/oozie/bin/oozie-start.sh

$ /usr/bin/oozie admin -oozie http://localhost:11000/oozie -status
Error: AUTHENTICATION : Could not authenticate, Authentication failed, status: 404, message: Not Found

$ sudo -u oozie usr/lib/oozie/bin/oozie-run.sh
Setting OOZIE_HOME:          /usr/lib/oozie
Sourcing:                    /usr/lib/oozie/bin/oozie-env.sh
  setting OOZIE_CONFIG=/etc/oozie
  setting OOZIE_DATA=/var/lib/oozie
  setting OOZIE_LOG=/var/log/oozie
  setting CATALINA_BASE=${OOZIE_DATA}/oozie-server
  setting CATALINA_TMPDIR=/var/tmp/oozie
  setting CATALINA_PID=/var/run/oozie/oozie.pid
Using   OOZIE_CONFIG:        /etc/oozie
Sourcing:                    /etc/oozie/oozie-env.sh
Setting OOZIE_CONFIG_FILE:   oozie-site.xml
Using   OOZIE_DATA:          /var/lib/oozie
Using   OOZIE_LOG:           /var/log/oozie
Setting OOZIE_LOG4J_FILE:    oozie-log4j.properties
Setting OOZIE_LOG4J_RELOAD:  10
Setting OOZIE_HTTP_HOSTNAME: localhost
Setting OOZIE_HTTP_PORT:     11000
Setting OOZIE_ADMIN_PORT:     11001
Setting OOZIE_BASE_URL:      http://localhost:11000/oozie
Using   CATALINA_BASE:       /var/lib/oozie/oozie-server
Setting CATALINA_OUT:        /var/log/oozie/catalina.out
Using   CATALINA_PID:        /var/run/oozie/oozie.pid

Using   CATALINA_OPTS:        -Dderby.stream.error.file=/var/log/oozie/derby.log
Adding to CATALINA_OPTS:     -Doozie.home.dir=/usr/lib/oozie -Doozie.config.dir=/etc/oozie -Doozie.log.dir=/var/log/oozie -Doozie.data.dir=/var/lib/oozie -Doozie.config.file=oozie-site.xml -Doozie.log4j.file=oozie-log4j.properties -Doozie.log4j.reload=10 -Doozie.http.hostname=localhost -Doozie.admin.port=11001 -Doozie.http.port=11000 -Doozie.base.url=http://localhost:11000/oozie

Using CATALINA_BASE:   /var/lib/oozie/oozie-server
Using CATALINA_HOME:   /usr/lib/oozie/oozie-server
Using CATALINA_TMPDIR: /var/tmp/oozie
Using JRE_HOME:        /usr
Using CLASSPATH:       /usr/lib/oozie/oozie-server/bin/bootstrap.jar
Using CATALINA_PID:    /var/run/oozie/oozie.pid
2012/12/22 15:15:56 org.apache.catalina.startup.Embedded initDirs
致命的: Cannot find specified temporary folder at /var/tmp/oozie
2012/12/22 15:15:57 org.apache.catalina.core.AprLifecycleListener init
情報: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre/lib/amd64/server:/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre/lib/amd64:/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre/../lib/amd64:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib
2012/12/22 15:15:58 org.apache.coyote.http11.Http11Protocol init
致命的: エンドポイントを初期化中のエラーです
java.net.BindException: Address already in use <null>:11000

$ cat /var/log/oozie/oozie.log
2012-12-22 15:15:58,898  INFO XLogService:525 - Log4j configuration file [oozie-log4j.properties]
2012-12-22 15:15:58,899  INFO XLogService:525 - Log4j configuration file loaded from [/etc/oozie]
2012-12-22 15:15:58,899  INFO XLogService:525 - Log4j reload interval [10 sec]
2012-12-22 15:15:58,912  INFO ConfigurationService:525 - USER[-] GROUP[-] Oozie home dir  [/usr/lib/oozie]
2012-12-22 15:15:58,917  INFO ConfigurationService:525 - USER[-] GROUP[-] Oozie conf dir  [/etc/oozie]
2012-12-22 15:15:58,917  INFO ConfigurationService:525 - USER[-] GROUP[-] Oozie conf file [oozie-site.xml]
2012-12-22 15:15:58,953  INFO ConfigurationService:525 - USER[-] GROUP[-] Configuration change via System Property, [oozie.base.url]=[http://localhost:11000/oozie]
2012-12-22 15:15:58,956  WARN ConfigurationService:528 - USER[-] GROUP[-] System property [oozie.admin.port] no defined in Oozie configuration, ignored
2012-12-22 15:15:58,959  INFO Services:525 - USER[-] GROUP[-] Exiting null Entering NORMAL
2012-12-22 15:15:58,964 FATAL Services:519 - USER[-] GROUP[-] java.io.IOException: No such file or directory
java.io.IOException: No such file or directory</pre><pre class="code" data-lang="" data-unlink>$ sudo chown -R oozie /var/lib/oozie
$ sudo chown -R oozie /var/log/oozie
$ sudo -u oozie mkdir /var/tmp/oozie
$ sudo chown -R oozie /var/tmp/oozie
$ sudo -u oozie /usr/lib/oozie/bin/oozie-stop.sh
$ sudo -u oozie /usr/lib/oozie/bin/oozie-start.sh
$ /usr/bin/oozie admin -oozie http://localhost:11000/oozie -status
System mode: NORMAL</pre><p><span itemscope itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/yutakikuchi/20121223011534" class="hatena-fotolife" itemprop="url"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/y/yutakikuchi/20121223/20121223011534.png" alt="f:id:yutakikuchi:20121223011534p:image" title="f:id:yutakikuchi:20121223011534p:image" class="hatena-fotolife" itemprop="image"></a></span><br />
<a href="http://localhost:11000/oozie">http://localhost:11000/oozie</a>にアクセスすると上のようなjob管理画面が表示されます。</p>

</div>
</blockquote>

</div>
<div class="section">
<h4>Pig on Oozie</h4>

<blockquote>
    <p><a href="http://d.hatena.ne.jp/yutakikuchi/20121217/1355700637">PigでHadoopをより便利に使う！PigでのMapReduceまとめ - Yuta.Kikuchiの日記</a> <a href="http://b.hatena.ne.jp/entry/d.hatena.ne.jp/yutakikuchi/20121217/1355700637"><img src="http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/yutakikuchi/20121217/1355700637" alt="はてなブックマーク - PigでHadoopをより便利に使う！PigでのMapReduceまとめ - Yuta.Kikuchiの日記" border="0" /></a><br />
<a href="http://pig.apache.org/docs/r0.9.1/udf.html#python-udfs">User Defined Functions</a> <a href="http://b.hatena.ne.jp/entry/pig.apache.org/docs/r0.9.1/udf.html%23python-udfs"><img src="http://b.hatena.ne.jp/entry/image/http://pig.apache.org/docs/r0.9.1/udf.html%23python-udfs" alt="はてなブックマーク - User Defined Functions" border="0" /></a><br />
今回はPigのUDFという独自関数を<a class="keyword" href="http://d.hatena.ne.jp/keyword/Python">Python</a>で作り、Pigの<a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>を定期処理するための設定について記述します。</p>

<div class="section">
<h5>PythonUDF</h5>
<p>Pigの独自関数は<a class="keyword" href="http://d.hatena.ne.jp/keyword/Java">Java</a>,<a class="keyword" href="http://d.hatena.ne.jp/keyword/Python">Python</a>,<a class="keyword" href="http://d.hatena.ne.jp/keyword/Javascript">Javascript</a>で記述する事ができます。Pigは文字列操作などの関数が無いため<a href="https://cwiki.apache.org/PIG/piggybank.html">PiggyBank</a> <a href="http://b.hatena.ne.jp/entry/s/cwiki.apache.org/PIG/piggybank.html"><img src="http://b.hatena.ne.jp/entry/image/https://cwiki.apache.org/PIG/piggybank.html" alt="はてなブックマーク - PiggyBank" border="0" /></a>で探しても見つからない場合は自分で処理を書くしかありません。<a class="keyword" href="http://d.hatena.ne.jp/keyword/Python">Python</a>で書いたUDFは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Jython">Jython</a>という<a class="keyword" href="http://d.hatena.ne.jp/keyword/Java">Java</a>とお喋りするためのIFでやり取りをするので<a class="keyword" href="http://d.hatena.ne.jp/keyword/Python">Python</a>と少し仕様が変わったりします。今回は以下のように与えられた引数に対して+1をするような簡単な処理を書いてみます。これをudf.pyというファイル名で保存して、<a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a>にアップします。</p>
<pre class="hljs python" data-lang="python" data-unlink><span class="synComment">#!/usr/bin/python</span>

<span class="synPreProc">@</span><span class="synIdentifier">outputSchema</span>(<span class="synConstant">"ryear:int"</span>)
<span class="synStatement">def</span> <span class="synIdentifier">addyear</span>(year):
  <span class="synStatement">return</span> year + <span class="synConstant">1</span>
</pre><p>上のUDFを呼び出すPigScriptは以下のように定義します。</p>
<pre class="hljs sql" data-lang="sql" data-unlink>REGISTER udf.py <span class="synSpecial">USING</span> jython <span class="synSpecial">AS</span> myfuncs;

input_data = LOAD input.txt <span class="synSpecial">USING</span> PigStorage() <span class="synSpecial">AS</span> (label:chararray,year:int,day:chararray,time:chararray);
filter_data = FOREACH input_data GENERATE label, myfuncs.addyear(year), day, time;
group_data = <span class="synSpecial">GROUP</span> filter_data <span class="synSpecial">BY</span> year;
max_data = FOREACH group_data GENERATE <span class="synSpecial">group</span>, MAX(input_data.time);
STORE max_data <span class="synSpecial">INTO</span> result;
</pre><pre class="code" data-lang="" data-unlink>$  zipinfo /usr/lib/pig/contrib/piggybank/java/piggybank.jar
Archive:  /usr/lib/pig/contrib/piggybank/java/piggybank.jar
-rw-r--r--  2.0 unx     1786 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/ExtremalTupleByNthField$HelperClass.class
-rw-r--r--  2.0 unx     6391 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/ExtremalTupleByNthField.class
-rw-r--r--  2.0 unx     1497 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/MaxTupleBy1stField$Final.class
-rw-r--r--  2.0 unx     1553 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/MaxTupleBy1stField$Initial.class
-rw-r--r--  2.0 unx     1518 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/MaxTupleBy1stField$Intermediate.class
-rw-r--r--  2.0 unx     3752 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/MaxTupleBy1stField.class
-rw-r--r--  2.0 unx     3611 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/DiffDate.class
-rw-r--r--  2.0 unx     3119 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/convert/CustomFormatToISO.class
-rw-r--r--  2.0 unx     2758 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/convert/ISOToUnix.class
-rw-r--r--  2.0 unx     2761 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/convert/UnixToISO.class
-rw-r--r--  2.0 unx     3079 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/diff/ISODaysBetween.class
-rw-r--r--  2.0 unx     3088 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/diff/ISOHoursBetween.class
-rw-r--r--  2.0 unx     3106 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/diff/ISOMinutesBetween.class
-rw-r--r--  2.0 unx     3097 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/diff/ISOMonthsBetween.class
-rw-r--r--  2.0 unx     3102 b- defN 12-Oct-05 19:14 org/apache/pig/piggybank/evaluation/datetime/diff/ISOSecondsBetween.class</pre>
</div>
<div class="section">
<h5>Pig Oozie Setting</h5>
<p>まずはPig,<a class="keyword" href="http://d.hatena.ne.jp/keyword/jython">jython</a>の<a class="keyword" href="http://d.hatena.ne.jp/keyword/yum">yum</a>パッケージがinstallされていることを確認します。</p>
<pre class="code" data-lang="" data-unlink>$ yum list installed | grep pig
hadoop-pig.noarch      0.8.1+28.39-1    @cloudera-cdh3

$ yum list installed | grep jython
jython.x86_64          2.2.1-4.8.el6    @base</pre><p>Pigの<a class="keyword" href="http://d.hatena.ne.jp/keyword/MapReduce">MapReduce</a>をOozie経由で実行するためにはPigファイルを<a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a>上に設置する必要があります。<a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a>上へのファイルアップもディレクトリの設置ルールがあったり、workflowで呼び出したいファイルを定義するなど幾つか覚えなければならない事項があります。ここでは<a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a>上の設定ファイルの設置の仕方について記述します。workflowを呼び出すファイルは後述するproperitesで記述します。workflowの中で呼び出したいPig Scriptファイルパスを自由に定義できたりしますが、ここでは分かりやすくworkflowが呼び出されるディレクトリに実行したいpigファイルと自分で記述したUDFファイルを設置します。workflowのディレクトリ直下にlibというディレクトリを設置し、pigや<a class="keyword" href="http://d.hatena.ne.jp/keyword/jython">jython</a>などのjarファイルを設置します。このlibディレクトリに設置したファイルは自動的に読み込まれます。</p>
<pre class="code" data-lang="" data-unlink>/user/username/tmp/workflow.xml
/user/username/tmp/coordinator/coordinator.xml
/user/username/tmp/script/test.pig
/user/username/tmp/script/udf.py
/user/username/tmp/lib/pig-core.jar
/user/username/tmp/lib/pig-0.8.1-cdh3u5-core.jar
/user/username/tmp/lib/piggybank.jar
/user/username/tmp/lib/jython.jar
/user/username/tmp/lib/jython-2.2.1.jar

$ alias hdfs
hdfs='/usr/lib/hadoop-0.20/bin/hadoop fs'
$ hdfs -put workflow.xml tmp
$ hdfs -put test.pig tmp/script
$ hdfs -put udf.py tmp/script
$ hdfs -put /usr/lib/pig/pig-* tmp/lib
$ hdfs -put /usr/lib/pig/contrib/piggybank/java/piggybank.jar tmp/lib
$ hdfs -put /usr/share/java/jython*.jar tmp/lib</pre>
</div>
<div class="section">
<h5>Pig Oozie Workflow</h5>
<p><a href="https://cwiki.apache.org/OOZIE/pig-cookbook.html">Pig Cookbook</a> <a href="http://b.hatena.ne.jp/entry/s/cwiki.apache.org/OOZIE/pig-cookbook.html"><img src="http://b.hatena.ne.jp/entry/image/https://cwiki.apache.org/OOZIE/pig-cookbook.html" alt="はてなブックマーク - Pig Cookbook" border="0" /></a><br />
<a href="http://oozie.apache.org/docs/3.2.0-incubating/WorkflowFunctionalSpec.html">Oozie Specification, a Hadoop Workflow System</a> <a href="http://b.hatena.ne.jp/entry/oozie.apache.org/docs/3.2.0-incubating/WorkflowFunctionalSpec.html"><img src="http://b.hatena.ne.jp/entry/image/http://oozie.apache.org/docs/3.2.0-incubating/WorkflowFunctionalSpec.html" alt="はてなブックマーク - Oozie -" border="0" /></a><br />
この辺を参考にしながら以下のようなworkflowを定義し<a class="keyword" href="http://d.hatena.ne.jp/keyword/HDFS">HDFS</a>にアップします。簡単な説明を加えておくと${}で定義される箇所は変数です。変数の値はoozie clientのpropertiesファイルから渡ってきます。job-tracker,name-nodeを指定したり、outputディレクトリを自動で消したりできます。使用するPIgの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>はscriptタグの中に記述します。またPig<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>から呼び出すUDFはfileタグで記述します。</p>
<pre class="hljs xml" data-lang="xml" data-unlink><span class="synIdentifier"><workflow-app </span><span class="synType">xmlns</span>=<span class="synConstant">"uri:oozie:workflow:0.1"</span><span class="synIdentifier"> </span><span class="synType">name</span>=<span class="synConstant">'pig-wf'</span><span class="synIdentifier">></span>
 <span class="synIdentifier"><start </span><span class="synType">to</span>=<span class="synConstant">'pig-test'</span><span class="synIdentifier">/></span>
 <span class="synIdentifier"><action </span><span class="synType">name</span>=<span class="synConstant">'pig-test'</span><span class="synIdentifier">></span>
    <span class="synIdentifier"><pig></span>
      <span class="synIdentifier"><job-tracker></span>${jobTracker}<span class="synIdentifier"></job-tracker></span>
      <span class="synIdentifier"><name-node></span>${nameNode}<span class="synIdentifier"></name-node></span>
      <span class="synIdentifier"><prepare></span> <span class="synIdentifier"><delete </span><span class="synType">path</span>=<span class="synConstant">"${nameNode}/${output_dir}"</span><span class="synIdentifier">/></prepare></span>
      <span class="synIdentifier"><configuration></span>
        <span class="synIdentifier"><property></span>
          <span class="synIdentifier"><name></span>mapred.map.output.compress<span class="synIdentifier"></name></span>
          <span class="synIdentifier"><value></span>false<span class="synIdentifier"></value></span>
        <span class="synIdentifier"></property></span>
        <span class="synIdentifier"><property></span>
          <span class="synIdentifier"><name></span>mapred.job.queue.name<span class="synIdentifier"></name></span>
          <span class="synIdentifier"><value></span>${queueName}<span class="synIdentifier"></value></span>
        <span class="synIdentifier"></property></span>
        <span class="synIdentifier"><property></span>
          <span class="synIdentifier"><name></span>mapred.child.java.opts<span class="synIdentifier"></name></span>
          <span class="synIdentifier"><value></span>-server -Xmx1024M -Djava.net.preferIPv4Stack=true -Dtest=QA<span class="synIdentifier"></value></span>
        <span class="synIdentifier"></property></span>
      <span class="synIdentifier"></configuration></span>
      <span class="synIdentifier"><script></span>test.pig<span class="synIdentifier"></script></span>
      <span class="synIdentifier"><param></span>input_file=${input_file}<span class="synIdentifier"></param></span>
      <span class="synIdentifier"><param></span>output_dir=${output_dir}<span class="synIdentifier"></param></span>
      <span class="synIdentifier"><file></span>test.udf<span class="synIdentifier"></file></span>
    <span class="synIdentifier"></pig></span>
 <span class="synIdentifier"><ok </span><span class="synType">to</span>=<span class="synConstant">"end"</span><span class="synIdentifier">/></span>
    <span class="synIdentifier"><error </span><span class="synType">to</span>=<span class="synConstant">"fail"</span><span class="synIdentifier">/></span>
 <span class="synIdentifier"></action></span>
 <span class="synIdentifier"><kill </span><span class="synType">name</span>=<span class="synConstant">"fail"</span><span class="synIdentifier">></span>
     <span class="synIdentifier"><message></span>Pig failed, error message[${wf:errorMessage(wf:lastErrorNode())}]<span class="synIdentifier"></message></span>
 <span class="synIdentifier"></kill></span>
 <span class="synIdentifier"><end </span><span class="synType">name</span>=<span class="synConstant">"end"</span><span class="synIdentifier">/></span>
<span class="synIdentifier"></workflow-app></span>
</pre>
</div>
<div class="section">
<h5>Pig Oozie Properties</h5>
<p>propertiesファイルはworkflowを呼び出すパスの定義、workflowに渡すパラメータの設定ファイルです。以下にサンプルを記載します。このサンプルをpig-job.propertiesファイルとして保存し、oozieコマンドでjobを登録します。また登録したjobが正常に動作していることも確認します。</p>
<pre class="code" data-lang="" data-unlink>nameNode=hdfs://localhost:8020
jobTracker=localhost:8021
queueName=default
examplesRoot=tmp
user.name=yuta

oozie.wf.application.path=${nameNode}/user/${user.name}/${examplesRoot}/
input_file=/user/${user.name}/${examplesRoot}/input/input.txt
output_dir=/user/${user.name}/${examplesRoot}/output/

$ /usr/bin/oozie job -oozie http://localhost:11000/oozie -config pig-job.properties -run
$ /usr/bin/oozie jobs -oozie http://localhost:11000/oozie      
Job ID                                   App Name     Status    User      Group     Started                 Ended                   
------------------------------------------------------------------------------------------------------------------------------------
0000020-121223110114595-oozie-oozi-W     pig-wf       SUCCEEDED yuta      users     2012-12-23 05:13        2012-12-23 05:15</pre>
</div>
<div class="section">
<h5>Pig Oozie Coordinator</h5>
<p><a href="https://github.com/yahoo/oozie/wiki/Oozie-Coord-Use-Cases">Oozie Coord Use Cases · yahoo/oozie Wiki · GitHub</a> <a href="http://b.hatena.ne.jp/entry/s/github.com/yahoo/oozie/wiki/Oozie-Coord-Use-Cases"><img src="http://b.hatena.ne.jp/entry/image/https://github.com/yahoo/oozie/wiki/Oozie-Coord-Use-Cases" alt="はてなブックマーク - Oozie Coord Use Cases · yahoo/oozie Wiki · GitHub" border="0" /></a><br />
定期処理化を設定するためにOozie Coordinatorを作成します。workflowと同様に<a class="keyword" href="http://d.hatena.ne.jp/keyword/xml">xml</a>ファイルを定義します。以下のサンプルでは60分毎にJobを実行するような設定を書きます。${変数名}にはpropertiesファイルで書かれた変数が渡ってきます。</p>
<pre class="hljs xml" data-lang="xml" data-unlink><span class="synComment"><!-- coordinator --></span>
<span class="synIdentifier"><coordinator-app </span><span class="synType">name</span>=<span class="synConstant">"pig_test"</span><span class="synIdentifier"> </span><span class="synType">frequency</span>=<span class="synConstant">"${freq}"</span><span class="synIdentifier"> </span><span class="synType">start</span>=<span class="synConstant">"${startTime}"</span><span class="synIdentifier"> </span><span class="synType">end</span>=<span class="synConstant">"${endTime}"</span><span class="synIdentifier"> </span><span class="synType">timezone</span>=<span class="synConstant">"${timezone}"</span><span class="synIdentifier"> </span><span class="synType">xmlns</span>=<span class="synConstant">"uri:oozie:coordinator:0.1"</span><span class="synIdentifier">></span>
   <span class="synIdentifier"><controls></span>
  <span class="synIdentifier"><timeout></span>${timeout}<span class="synIdentifier"></timeout></span>
   <span class="synIdentifier"></controls></span>
   <span class="synIdentifier"><action></span>
  <span class="synIdentifier"><workflow></span>
     <span class="synIdentifier"><app-path></span>${workflowPath}<span class="synIdentifier"></app-path></span>
  <span class="synIdentifier"></workflow></span>
   <span class="synIdentifier"></action></span>     
<span class="synIdentifier"></coordinator-app></span>

<span class="synComment"><!-- properties --></span>
nameNode=hdfs://localhost:8020
jobTracker=localhost:8021
queueName=default
examplesRoot=tmp
user.name=yuta

freq=60
startTime=2012-01-01T05:00Z
endTime=2013-01-01T06:00Z
timezone=UTC
timeout=10

oozie.coord.application.path=${nameNode}/user/${user.name}/${examplesRoot}/coordinator
workflowPath=${nameNode}/user/${user.name}/${examplesRoot}/
input_file=/user/${user.name}/${examplesRoot}/input/input.txt
output_dir=/user/${user.name}/${examplesRoot}/output/
</pre><pre class="code" data-lang="" data-unlink>$ usr/bin/oozie job -oozie http://localhost:11000/oozie -run -config pig-coordinator.properties job: 0000008-121229133003678-oozie-oozi-C
$ /usr/bin/oozie job -oozie http://localhost:11000/oozie -info 0000008-121229133003678-oozie-oozi-C
Job ID : 0000008-121229133003678-oozie-oozi-C
------------------------------------------------------------------------------------------------------------------------------------
Job Name : pig_test
App Path : hdfs://localhost:8020/user/yuta/tmp/coordinator/coordinator.xml
Status   : RUNNING
------------------------------------------------------------------------------------------------------------------------------------
ID                                       Status    Ext ID                               Err Code  Created          Nominal Time     
0000008-121229133003678-oozie-oozi-C@1   SUCCEEDED 0000009-121229133003678-oozie-oozi-W -         2012-12-29 04:49 2012-01-01 05:00 </pre>
</div>
<div class="section">
<h5>その他</h5>
<p>oozieの実行に関するデータは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Mysql">Mysql</a>に格納されています。実行データを奇麗にしたい場合はoozieコマンドのkillで消す事ができますが一つずつのJobしか消せないので、一括で消したい場合は<a class="keyword" href="http://d.hatena.ne.jp/keyword/Mysql">Mysql</a>のDELETEを使ってやると良いと思います。</p>
<pre class="hljs sql" data-lang="sql" data-unlink>mysql> use oozie
Reading <span class="synSpecial">table</span> information <span class="synSpecial">for</span> completion <span class="synSpecial">of</span> <span class="synSpecial">table</span> <span class="synStatement">and</span> <span class="synSpecial">column</span> names
You can turn off this feature <span class="synSpecial">to</span> get a quicker startup <span class="synSpecial">with</span> -A

Database changed
mysql> show tables;
+<span class="synComment">-----------------+</span>
| Tables_in_oozie |
+<span class="synComment">-----------------+</span>
| COORD_ACTIONS   |
| COORD_JOBS      |
| SLA_EVENTS      |
| WF_ACTIONS      |
| WF_JOBS         |
+<span class="synComment">-----------------+</span>
<span class="synConstant">5</span> <span class="synSpecial">rows</span> <span class="synStatement">in</span> <span class="synStatement">set</span> (<span class="synConstant">0</span>.<span class="synConstant">01</span> sec)

mysql> show <span class="synStatement">create</span> <span class="synSpecial">table</span> COORD_ACTIONS;
| COORD_ACTIONS | <span class="synStatement">CREATE</span> <span class="synSpecial">TABLE</span> `COORD_ACTIONS` (
  `id` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synStatement">NOT</span> <span class="synSpecial">NULL</span>,
  `action_number` int(<span class="synConstant">11</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `action_xml` text,
  `console_url` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `created_conf` text,
  `error_code` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `error_message` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `external_status` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `missing_dependencies` text,
  `run_conf` text,
  `time_out` int(<span class="synConstant">11</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `tracker_uri` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `job_type` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `bean_type` <span class="synType">varchar</span>(<span class="synConstant">31</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `created_time` datetime <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `external_id` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `job_id` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `last_modified_time` datetime <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `nominal_time` datetime <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `rerun_time` datetime <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  `sla_xml` text,
  `status` <span class="synType">varchar</span>(<span class="synConstant">255</span>) <span class="synSpecial">DEFAULT</span> <span class="synSpecial">NULL</span>,
  PRIMARY KEY (`id`),
  KEY `I_CRD_TNS_CREATED_TIME` (`created_time`),
  KEY `I_CRD_TNS_DTYPE` (`bean_type`),
  KEY `I_CRD_TNS_EXTERNAL_ID` (`external_id`),
  KEY `I_CRD_TNS_JOB_ID` (`job_id`),
  KEY `I_CRD_TNS_LAST_MODIFIED_TIME` (`last_modified_time`),
  KEY `I_CRD_TNS_RERUN_TIME` (`rerun_time`),
  KEY `I_CRD_TNS_STATUS` (`status`)
) ENGINE=InnoDB <span class="synSpecial">DEFAULT</span> CHARSET=latin1 |
</pre>
</div>
</blockquote>

</div>
<div class="section">
<h4>Links</h4>

<blockquote>
    
<ul>
<li><a href="https://ccp.cloudera.com/display/CDHDOC/Oozie+Installation">Oozie Installation - Cloudera Support</a> <a href="http://b.hatena.ne.jp/entry/s/ccp.cloudera.com/display/CDHDOC/Oozie+Installation"><img src="http://b.hatena.ne.jp/entry/image/https://ccp.cloudera.com/display/CDHDOC/Oozie+Installation" alt="はてなブックマーク - Oozie Installation - Cloudera Support" border="0" /></a></li>
<li><a href="http://metasearch.sourceforge.jp/wiki/index.php?Oozie%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB">Oozieインストール - Meta Search</a> <a href="http://b.hatena.ne.jp/entry/metasearch.sourceforge.jp/wiki/index.php?Oozie%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB"><img src="http://b.hatena.ne.jp/entry/image/http://metasearch.sourceforge.jp/wiki/index.php?Oozie%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB" alt="はてなブックマーク - Oozieインストール - Meta Search" border="0" /></a></li>
<li><a href="http://archive.cloudera.com/cdh/3/oozie/DG_QuickStart.html">Oozie OuickStart</a> <a href="http://b.hatena.ne.jp/entry/archive.cloudera.com/cdh/3/oozie/DG_QuickStart.html"><img src="http://b.hatena.ne.jp/entry/image/http://archive.cloudera.com/cdh/3/oozie/DG_QuickStart.html" alt="はてなブックマーク - Oozie -" border="0" /></a></li>
<li><a href="https://cwiki.apache.org/OOZIE/pig-cookbook.html">Pig Cookbook</a> <a href="http://b.hatena.ne.jp/entry/s/cwiki.apache.org/OOZIE/pig-cookbook.html"><img src="http://b.hatena.ne.jp/entry/image/https://cwiki.apache.org/OOZIE/pig-cookbook.html" alt="はてなブックマーク - Pig Cookbook" border="0" /></a></li>
<li><a href="http://oozie.apache.org/docs/3.2.0-incubating/WorkflowFunctionalSpec.html">Oozie Specification, a Hadoop Workflow System</a> <a href="http://b.hatena.ne.jp/entry/oozie.apache.org/docs/3.2.0-incubating/WorkflowFunctionalSpec.html"><img src="http://b.hatena.ne.jp/entry/image/http://oozie.apache.org/docs/3.2.0-incubating/WorkflowFunctionalSpec.html" alt="はてなブックマーク - Oozie -" border="0" /></a></li>
<li><a href="http://www.infoq.com/jp/articles/introductionOozie">Oozieの紹介</a> <a href="http://b.hatena.ne.jp/entry/www.infoq.com/jp/articles/introductionOozie"><img src="http://b.hatena.ne.jp/entry/image/http://www.infoq.com/jp/articles/introductionOozie" alt="はてなブックマーク - Oozieの紹介" border="0" /></a></li>
<li><a href="http://gihyo.jp/dev/clip/01/orangenews/vol58/0001">米Yahoo!「Hadoop with Security」「Oozie」をオープンソースで公開：濃縮還元オレンジニュース｜gihyo.jp … 技術評論社</a> <a href="http://b.hatena.ne.jp/entry/gihyo.jp/dev/clip/01/orangenews/vol58/0001"><img src="http://b.hatena.ne.jp/entry/image/http://gihyo.jp/dev/clip/01/orangenews/vol58/0001" alt="はてなブックマーク - 米Yahoo!「Hadoop with Security」「Oozie」をオープンソースで公開：濃縮還元オレンジニュース｜gihyo.jp … 技術評論社" border="0" /></a></li>
</ul>
</blockquote>

</div>

